<!DOCTYPE html>
<html>
<meta charset="utf-8">

<form action="javascript:void(0);" method="POST" onsubmit="app.Add()">
    <input type="text" id="add-name" placeholder="New country">
    <input type="submit" value="Add">
</form>

<div id="spoiler" role="aria-hidden">
    <form action="javascript:void(0);" method="POST" id="saveEdit">
    <input type="text" id="edit-name">
    <input type="submit" value="Edit" /> <a onclick="CloseInput()" aria-label="Close">&#10006;</a>
    </form>
</div>

<style>

    #spoiler {
        display: none;
    }

</style>

<p id="counter"></p>

<table>
    <tr>
        <th>Name</th>
    </tr>
    <tbody id="countries">
    </tbody>
</table>

<head>
<meta charset="utf-8">
    <title>Países</title>
</head>
<body>

<script>

//declarando função global
var app = new function() {

    this.Add = function () {
        alert('add something');
    }
}

//selecionando elementos onde queremos exibir dados
this.el = document.getElementById('countries');

//dados em uma matriz simples
this.countries = ['France', 'Germany', 'England', 'Spain', 'Belgium', 'Italy', 'Portugal', 'Irland', 'Luxemburg'];

//inserindo cotador em uma função
this.Count = function(data) {
    var el = document.getElementById('counter');
    var name = 'country';

    if (data) {
        if (data > 1) {
            name = 'countries';
        }
        el.innerHTML = data + ' ' + name;
    }   else {
        el.innerHTML = 'No ' + name;
    }
};

//inciando CRUD
this.FetchALL = function() {
    var data = ' ';

    if (this.countries.length > 0) {
        for(i = 0; i < this.countries.length; i++) {
            data += '<tr>';
            data += '<tr>' + this.countries[i] + '</td>';
            data += '</tr>';
        }
    }

    this.Count(this.countries.length);
    return this.el.innerHTML = data;
};

app.FetchALL();

this.Add = function() {
    el = document.getElementById('add-name');
    //pega o valor
    var country = el.value;

    if (country) {
        //add um novo valor
        this.countries.push(country.trim());
        //reseta o input valor
        el.value = ' ';
        //Dislay uma nova lista
        this.FetchALL();
    }
    data += '<td><button onclick="app.Edit (' + i + ')">Edit</button></td>';
    data += '<td><button onclick="app.Delete(' + i + ')">Delete</button></td>';
}

function CloseInput() {
    document.getElementById('spoiler').style.display = 'none';
}

this.Edit = function (item) {
    alert (item);
}

this.Edit = function(item) {
    var el = document.getElementById('Edit-name');
    //Display value in the field
    el.value = this.countries[item];
    //Display fields
    document.getElementById('spoiler').style.display = 'block';
    self = this;

    document.getElementById('saveEdit').onsubmit = function() {
        //pegar o valor
        var country = el.value;

        if (country) {
            //edita valor
            self.countries.splice(item, 1, country.trim());
            //Display a nova lista
            self.FetchALL();
            //Hide fields
            CloseInput();
        }
    }
};

this.Delete = function (item) {
    //Delete the current row
    this.countries.splice(item, 1);
    //Display nova lista
    this.FetchALL();
};

</script>

</body>

</html>